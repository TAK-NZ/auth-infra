"use strict";
/**
 * Dynamic context override utilities
 * Simplified flat parameter system for command-line context overrides
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.applyContextOverrides = applyContextOverrides;
function applyContextOverrides(app, baseConfig) {
    const topLevelOverrides = {
        stackName: app.node.tryGetContext('stackName'),
    };
    return {
        ...baseConfig,
        ...Object.fromEntries(Object.entries(topLevelOverrides).filter(([_, v]) => v !== undefined)),
        database: {
            ...baseConfig.database,
            instanceClass: app.node.tryGetContext('instanceClass') ?? baseConfig.database.instanceClass,
            instanceCount: app.node.tryGetContext('instanceCount') ?? baseConfig.database.instanceCount,
            allocatedStorage: app.node.tryGetContext('allocatedStorage') ?? baseConfig.database.allocatedStorage,
            maxAllocatedStorage: app.node.tryGetContext('maxAllocatedStorage') ?? baseConfig.database.maxAllocatedStorage,
            enablePerformanceInsights: app.node.tryGetContext('enablePerformanceInsights') ?? baseConfig.database.enablePerformanceInsights,
            monitoringInterval: app.node.tryGetContext('monitoringInterval') ?? baseConfig.database.monitoringInterval,
            backupRetentionDays: app.node.tryGetContext('backupRetentionDays') ?? baseConfig.database.backupRetentionDays,
            deleteProtection: app.node.tryGetContext('deleteProtection') ?? baseConfig.database.deleteProtection,
        },
        redis: {
            ...baseConfig.redis,
            nodeType: app.node.tryGetContext('nodeType') ?? baseConfig.redis.nodeType,
            numCacheNodes: Number(app.node.tryGetContext('numCacheNodes')) || baseConfig.redis.numCacheNodes,
        },
        ecs: {
            ...baseConfig.ecs,
            taskCpu: app.node.tryGetContext('taskCpu') ?? baseConfig.ecs.taskCpu,
            taskMemory: app.node.tryGetContext('taskMemory') ?? baseConfig.ecs.taskMemory,
            desiredCount: app.node.tryGetContext('desiredCount') ?? baseConfig.ecs.desiredCount,
            enableDetailedLogging: app.node.tryGetContext('enableDetailedLogging') ?? baseConfig.ecs.enableDetailedLogging,
        },
        authentik: {
            ...baseConfig.authentik,
            hostname: app.node.tryGetContext('authentikHostname') ?? baseConfig.authentik.hostname,
            adminUserEmail: app.node.tryGetContext('adminUserEmail') ?? baseConfig.authentik.adminUserEmail,
            ldapHostname: app.node.tryGetContext('ldapHostname') ?? baseConfig.authentik.ldapHostname,
            ldapBaseDn: app.node.tryGetContext('ldapBaseDn') ?? baseConfig.authentik.ldapBaseDn,
            useS3AuthentikConfigFile: app.node.tryGetContext('useS3AuthentikConfigFile') ?? baseConfig.authentik.useS3AuthentikConfigFile,
            enablePostgresReadReplicas: app.node.tryGetContext('enablePostgresReadReplicas') ?? baseConfig.authentik.enablePostgresReadReplicas,
            branding: app.node.tryGetContext('branding') ?? baseConfig.authentik.branding,
            authentikVersion: app.node.tryGetContext('authentikVersion') ?? baseConfig.authentik.authentikVersion,
            buildRevision: Number(app.node.tryGetContext('buildRevision')) || baseConfig.authentik.buildRevision,
        },
        ecr: {
            imageRetentionCount: app.node.tryGetContext('imageRetentionCount') ?? baseConfig.ecr.imageRetentionCount,
            scanOnPush: app.node.tryGetContext('scanOnPush') ?? baseConfig.ecr.scanOnPush,
        },
        general: {
            ...baseConfig.general,
            removalPolicy: app.node.tryGetContext('removalPolicy') || baseConfig.general.removalPolicy,
            enableDetailedLogging: app.node.tryGetContext('enableDetailedLogging') ?? baseConfig.general.enableDetailedLogging,
            enableContainerInsights: app.node.tryGetContext('enableContainerInsights') ?? baseConfig.general.enableContainerInsights,
        },
        docker: {
            ...baseConfig.docker,
            authentikImageTag: app.node.tryGetContext('authentikImageTag') ?? baseConfig.docker?.authentikImageTag,
            ldapImageTag: app.node.tryGetContext('ldapImageTag') ?? baseConfig.docker?.ldapImageTag,
        },
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGV4dC1vdmVycmlkZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjb250ZXh0LW92ZXJyaWRlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7OztHQUdHOztBQUtILHNEQThEQztBQTlERCxTQUFnQixxQkFBcUIsQ0FDbkMsR0FBWSxFQUNaLFVBQW9DO0lBRXBDLE1BQU0saUJBQWlCLEdBQUc7UUFDeEIsU0FBUyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQztLQUMvQyxDQUFDO0lBRUYsT0FBTztRQUNMLEdBQUcsVUFBVTtRQUNiLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQztRQUM1RixRQUFRLEVBQUU7WUFDUixHQUFHLFVBQVUsQ0FBQyxRQUFRO1lBQ3RCLGFBQWEsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsSUFBSSxVQUFVLENBQUMsUUFBUSxDQUFDLGFBQWE7WUFDM0YsYUFBYSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxRQUFRLENBQUMsYUFBYTtZQUMzRixnQkFBZ0IsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCO1lBQ3BHLG1CQUFtQixFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLHFCQUFxQixDQUFDLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUI7WUFDN0cseUJBQXlCLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsMkJBQTJCLENB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ckc7UUFDRCxHQUFHLEVBQUU7WUFDSCxtQkFBbUIsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsbUJBQW1CO1lBQ3hHLFVBQVUsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLFVBQVU7U0FDOUU7UUFDRCxPQUFPLEVBQUU7WUFDUCxHQUFHLFVBQVUsQ0FBQyxPQUFPO1lBQ3JCLGFBQWEsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLGFBQWE7WUFDMUYscUJBQXFCLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsdUJBQXVCLENBQUMsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLHFCQUFxQjtZQUNsSCx1QkFBdUIsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsdUJBQXVCO1NBQ3pIO1FBQ0QsTUFBTSxFQUFFO1lBQ04sR0FBRyxVQUFVLENBQUMsTUFBTTtZQUNwQixpQkFBaUIsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxNQUFNLEVBQUUsaUJBQWlCO1lBQ3RHLFlBQVksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsSUFBSSxVQUFVLENBQUMsTUFBTSxFQUFFLFlBQVk7U0FDeEY7S0FDRixDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRHluYW1pYyBjb250ZXh0IG92ZXJyaWRlIHV0aWxpdGllc1xuICogU2ltcGxpZmllZCBmbGF0IHBhcmFtZXRlciBzeXN0ZW0gZm9yIGNvbW1hbmQtbGluZSBjb250ZXh0IG92ZXJyaWRlc1xuICovXG5cbmltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgeyBDb250ZXh0RW52aXJvbm1lbnRDb25maWcgfSBmcm9tICcuLi9zdGFjay1jb25maWcnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlDb250ZXh0T3ZlcnJpZGVzKFxuICBhcHA6IGNkay5BcHAsIFxuICBiYXNlQ29uZmlnOiBDb250ZXh0RW52aXJvbm1lbnRDb25maWdcbik6IENvbnRleHRFbnZpcm9ubWVudENvbmZpZyB7XG4gIGNvbnN0IHRvcExldmVsT3ZlcnJpZGVzID0ge1xuICAgIHN0YWNrTmFtZTogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnc3RhY2tOYW1lJyksXG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5iYXNlQ29uZmlnLFxuICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0b3BMZXZlbE92ZXJyaWRlcykuZmlsdGVyKChbXywgdl0pID0+IHYgIT09IHVuZGVmaW5lZCkpLFxuICAgIGRhdGFiYXNlOiB7XG4gICAgICAuLi5iYXNlQ29uZmlnLmRhdGFiYXNlLFxuICAgICAgaW5zdGFuY2VDbGFzczogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnaW5zdGFuY2VDbGFzcycpID8/IGJhc2VDb25maWcuZGF0YWJhc2UuaW5zdGFuY2VDbGFzcyxcbiAgICAgIGluc3RhbmNlQ291bnQ6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2luc3RhbmNlQ291bnQnKSA/PyBiYXNlQ29uZmlnLmRhdGFiYXNlLmluc3RhbmNlQ291bnQsXG4gICAgICBhbGxvY2F0ZWRTdG9yYWdlOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdhbGxvY2F0ZWRTdG9yYWdlJykgPz8gYmFzZUNvbmZpZy5kYXRhYmFzZS5hbGxvY2F0ZWRTdG9yYWdlLFxuICAgICAgbWF4QWxsb2NhdGVkU3RvcmFnZTogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnbWF4QWxsb2NhdGVkU3RvcmFnZScpID8/IGJhc2VDb25maWcuZGF0YWJhc2UubWF4QWxsb2NhdGVkU3RvcmFnZSxcbiAgICAgIGVuYWJsZVBlcmZvcm1hbmNlSW5zaWdodHM6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2VuYWJsZVBlcmZvcm1hbmNlSW5zaWdodHMnKSA/PyBiYXNlQ29uZmlnLmRhdGFiYXNlLmVuYWJsZVBlcmZvcm1hbmNlSW5zaWdodHMsXG4gICAgICBtb25pdG9yaW5nSW50ZXJ2YWw6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ21vbml0b3JpbmdJbnRlcnZhbCcpID8/IGJhc2VDb25maWcuZGF0YWJhc2UubW9uaXRvcmluZ0ludGVydmFsLFxuICAgICAgYmFja3VwUmV0ZW50aW9uRGF5czogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnYmFja3VwUmV0ZW50aW9uRGF5cycpID8/IGJhc2VDb25maWcuZGF0YWJhc2UuYmFja3VwUmV0ZW50aW9uRGF5cyxcbiAgICAgIGRlbGV0ZVByb3RlY3Rpb246IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2RlbGV0ZVByb3RlY3Rpb24nKSA/PyBiYXNlQ29uZmlnLmRhdGFiYXNlLmRlbGV0ZVByb3RlY3Rpb24sXG4gICAgfSxcbiAgICByZWRpczoge1xuICAgICAgLi4uYmFzZUNvbmZpZy5yZWRpcyxcbiAgICAgIG5vZGVUeXBlOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdub2RlVHlwZScpID8/IGJhc2VDb25maWcucmVkaXMubm9kZVR5cGUsXG4gICAgICBudW1DYWNoZU5vZGVzOiBOdW1iZXIoYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnbnVtQ2FjaGVOb2RlcycpKSB8fCBiYXNlQ29uZmlnLnJlZGlzLm51bUNhY2hlTm9kZXMsXG4gICAgfSxcbiAgICBlY3M6IHtcbiAgICAgIC4uLmJhc2VDb25maWcuZWNzLFxuICAgICAgdGFza0NwdTogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgndGFza0NwdScpID8/IGJhc2VDb25maWcuZWNzLnRhc2tDcHUsXG4gICAgICB0YXNrTWVtb3J5OiBhcHAubm9kZS50cnlHZXRDb250ZXh0KCd0YXNrTWVtb3J5JykgPz8gYmFzZUNvbmZpZy5lY3MudGFza01lbW9yeSxcbiAgICAgIGRlc2lyZWRDb3VudDogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnZGVzaXJlZENvdW50JykgPz8gYmFzZUNvbmZpZy5lY3MuZGVzaXJlZENvdW50LFxuICAgICAgZW5hYmxlRGV0YWlsZWRMb2dnaW5nOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdlbmFibGVEZXRhaWxlZExvZ2dpbmcnKSA/PyBiYXNlQ29uZmlnLmVjcy5lbmFibGVEZXRhaWxlZExvZ2dpbmcsXG4gICAgfSxcbiAgICBhdXRoZW50aWs6IHtcbiAgICAgIC4uLmJhc2VDb25maWcuYXV0aGVudGlrLFxuICAgICAgaG9zdG5hbWU6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2F1dGhlbnRpa0hvc3RuYW1lJykgPz8gYmFzZUNvbmZpZy5hdXRoZW50aWsuaG9zdG5hbWUsXG4gICAgICBhZG1pblVzZXJFbWFpbDogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnYWRtaW5Vc2VyRW1haWwnKSA/PyBiYXNlQ29uZmlnLmF1dGhlbnRpay5hZG1pblVzZXJFbWFpbCxcbiAgICAgIGxkYXBIb3N0bmFtZTogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnbGRhcEhvc3RuYW1lJykgPz8gYmFzZUNvbmZpZy5hdXRoZW50aWsubGRhcEhvc3RuYW1lLFxuICAgICAgbGRhcEJhc2VEbjogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnbGRhcEJhc2VEbicpID8/IGJhc2VDb25maWcuYXV0aGVudGlrLmxkYXBCYXNlRG4sXG4gICAgICB1c2VTM0F1dGhlbnRpa0NvbmZpZ0ZpbGU6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ3VzZVMzQXV0aGVudGlrQ29uZmlnRmlsZScpID8/IGJhc2VDb25maWcuYXV0aGVudGlrLnVzZVMzQXV0aGVudGlrQ29uZmlnRmlsZSxcbiAgICAgIGVuYWJsZVBvc3RncmVzUmVhZFJlcGxpY2FzOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdlbmFibGVQb3N0Z3Jlc1JlYWRSZXBsaWNhcycpID8/IGJhc2VDb25maWcuYXV0aGVudGlrLmVuYWJsZVBvc3RncmVzUmVhZFJlcGxpY2FzLFxuICAgICAgYnJhbmRpbmc6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2JyYW5kaW5nJykgPz8gYmFzZUNvbmZpZy5hdXRoZW50aWsuYnJhbmRpbmcsXG4gICAgICBhdXRoZW50aWtWZXJzaW9uOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdhdXRoZW50aWtWZXJzaW9uJykgPz8gYmFzZUNvbmZpZy5hdXRoZW50aWsuYXV0aGVudGlrVmVyc2lvbixcbiAgICAgIGJ1aWxkUmV2aXNpb246IE51bWJlcihhcHAubm9kZS50cnlHZXRDb250ZXh0KCdidWlsZFJldmlzaW9uJykpIHx8IGJhc2VDb25maWcuYXV0aGVudGlrLmJ1aWxkUmV2aXNpb24sXG4gICAgfSxcbiAgICBlY3I6IHtcbiAgICAgIGltYWdlUmV0ZW50aW9uQ291bnQ6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2ltYWdlUmV0ZW50aW9uQ291bnQnKSA/PyBiYXNlQ29uZmlnLmVjci5pbWFnZVJldGVudGlvbkNvdW50LFxuICAgICAgc2Nhbk9uUHVzaDogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnc2Nhbk9uUHVzaCcpID8/IGJhc2VDb25maWcuZWNyLnNjYW5PblB1c2gsXG4gICAgfSxcbiAgICBnZW5lcmFsOiB7XG4gICAgICAuLi5iYXNlQ29uZmlnLmdlbmVyYWwsXG4gICAgICByZW1vdmFsUG9saWN5OiBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdyZW1vdmFsUG9saWN5JykgfHwgYmFzZUNvbmZpZy5nZW5lcmFsLnJlbW92YWxQb2xpY3ksXG4gICAgICBlbmFibGVEZXRhaWxlZExvZ2dpbmc6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2VuYWJsZURldGFpbGVkTG9nZ2luZycpID8/IGJhc2VDb25maWcuZ2VuZXJhbC5lbmFibGVEZXRhaWxlZExvZ2dpbmcsXG4gICAgICBlbmFibGVDb250YWluZXJJbnNpZ2h0czogYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnZW5hYmxlQ29udGFpbmVySW5zaWdodHMnKSA/PyBiYXNlQ29uZmlnLmdlbmVyYWwuZW5hYmxlQ29udGFpbmVySW5zaWdodHMsXG4gICAgfSxcbiAgICBkb2NrZXI6IHtcbiAgICAgIC4uLmJhc2VDb25maWcuZG9ja2VyLFxuICAgICAgYXV0aGVudGlrSW1hZ2VUYWc6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2F1dGhlbnRpa0ltYWdlVGFnJykgPz8gYmFzZUNvbmZpZy5kb2NrZXI/LmF1dGhlbnRpa0ltYWdlVGFnLFxuICAgICAgbGRhcEltYWdlVGFnOiBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdsZGFwSW1hZ2VUYWcnKSA/PyBiYXNlQ29uZmlnLmRvY2tlcj8ubGRhcEltYWdlVGFnLFxuICAgIH0sXG4gIH07XG59XG4iXX0=